<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="twitter:image:src" content="https://leimao.github.io/images/favicon/android-chrome-512x512.png"><meta name="referrer" content="no-referrer-when-downgrade"><title>Real-Time React Analog Clock - Lei Mao&#039;s Log Book</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="Lei Mao&#039;s Log Book"><meta name="msapplication-TileImage" content="/images/favicon/android-chrome-192x192.png"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Lei Mao&#039;s Log Book"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="192x192" href="/images/favicon/android-chrome-192x192.png"><link rel="apple-touch-icon" sizes="512x512" href="/images/favicon/android-chrome-512x512.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="apple-touch-icon" sizes="32x32" href="/images/favicon/favicon-32x32.png"><meta name="description" content="React without JSX"><meta property="og:type" content="blog"><meta property="og:title" content="Real-Time React Analog Clock"><meta property="og:url" content="https://leimao.github.io/blog/Real-Time-React-Analog-Clock/"><meta property="og:site_name" content="Lei Mao&#039;s Log Book"><meta property="og:description" content="React without JSX"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://leimao.github.io/images/favicon/android-chrome-512x512.png"><meta property="article:published_time" content="2023-09-11T07:00:00.000Z"><meta property="article:modified_time" content="2023-10-09T07:00:00.000Z"><meta property="article:author" content="Lei Mao"><meta property="article:tag" content="JavaScript"><meta property="article:tag" content="React"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://leimao.github.io/images/favicon/android-chrome-512x512.png"><meta property="twitter:creator" content="@matchaleimao"><meta property="twitter:site" content="Lei Mao&#039;s Log Book"><meta property="fb:admins" content="dukeleimao"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://leimao.github.io/blog/Real-Time-React-Analog-Clock/"},"headline":"Real-Time React Analog Clock","image":["https://leimao.github.io/images/favicon/android-chrome-512x512.png"],"datePublished":"2023-09-11T07:00:00.000Z","dateModified":"2023-10-09T07:00:00.000Z","author":{"@type":"Person","name":"Lei Mao"},"publisher":{"@type":"Organization","name":"Lei Mao's Log Book","logo":{"@type":"ImageObject","url":"https://leimao.github.io/images/favicon/android-chrome-512x512.png"}},"description":"React without JSX"}</script><link rel="canonical" href="https://leimao.github.io/blog/Real-Time-React-Analog-Clock/"><link rel="alternate" href="/atom.xml" title="Lei Mao&#039;s Log Book" type="application/atom+xml"><link rel="icon" href="/images/favicon/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons/css/academicons.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=PT+Sans+Narrow:wght@400;700&amp;family=PT+Serif"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-EJY6FXZBCB" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-EJY6FXZBCB');</script><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script src="//m.servedby-buysellads.com/monetization.custom.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/favicon/android-chrome-512x512.png" alt="Lei Mao&#039;s Log Book" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Lei Mao&#039;s Log Book</a><a class="navbar-item" href="/curriculum">Curriculum</a><a class="navbar-item" href="/blog">Blog</a><a class="navbar-item" href="/article">Articles</a><a class="navbar-item" href="/project">Projects</a><a class="navbar-item" href="/publication">Publications</a><a class="navbar-item" href="/reading">Readings</a><a class="navbar-item" href="/life">Life</a><a class="navbar-item" href="/essay">Essay</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/faq">FAQs</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Switch Color Scheme" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/leimao"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Gitter" href="https://gitter.im/leimao/community"><i class="fab fa-gitter"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-content"><center><div class="bsa-standard" id="carbon-ad-01"></div><script>            (function() {             if (typeof _bsa !== 'undefined' && _bsa) {                 _bsa.init('custom', 'CWYD65QY', 'placement:leimaogithubio-standard', {                     target: '#carbon-ad-01',                     template: `             <a href='##link##' class='native-banner' style='background: ##backgroundColor##' rel='sponsored noopener' target='_blank' title='##company## — ##tagline##'>                 <img class='native-img' width='125' src='##logo##' />                 <div class='native-main'>                     <div class='native-details' style='                             color: ##textColor##;                             border-left: solid 1px ##textColor##;                         '>                         <span class='native-company'>Sponsored by ##company##</span>                         <span class='native-desc'>##description##</span>                     </div>                     <span class='native-cta' style='                             color: ##ctaTextColor##;                             background-color: ##ctaBackgroundColor##;                         '>##callToAction##</span>                 </div>             </a>             `,                 });                 }             })();         </script></center></div></div><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3" style="font-family: 'PT Sans Narrow', sans-serif">Real-Time React Analog Clock</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left" style="margin-bottom: 0.50rem"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="2023-09-11T07:00:00.000Z" title="2023-09-11T07:00:00.000Z">09-11-2023</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="2023-10-09T07:00:00.000Z" title="2023-10-09T07:00:00.000Z">10-09-2023</time></span><span class="level-item"><i class="far fa-folder-open has-text-grey"></i> <a class="link-muted" href="/blog/">blog</a></span><span class="level-item"><i class="far fa-clock"></i> 7 minutes read (About 1056 words)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>&nbsp;visits</span></div></div><div class="content" style="margin-top: 1.0rem"><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>React can be used directly in HTML, even though JSX does not seem to be supported.</p>
<p>In this blog post, I would like to quickly show how to use React to request time and render time as an analog SVG figure for different time zones.</p>
<h2 id="World-Time"><a href="#World-Time" class="headerlink" title="World Time"></a>World Time</h2><p>The local time, Los Angeles time, New York time, Beijing time, London time, and Tokyo time are displayed in real-time.</p>
<div id="root"></div>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script>
    // Create a React component called Clock that displays the current time in a SVG analog clock.
    // The analog clock should have three hands: hour, minute, and second.
    // The analog clock should also have 1, 2, 3, ..., 12 numbers around the clock face.
    // The analog clock should also have tick marks.
    function Clock({ time }) {
    const hour = time.getHours();
    const minute = time.getMinutes();
    const second = time.getSeconds();

    const hourAngle = (hour % 12) * 30 + minute * 0.5;
    const minuteAngle = minute * 6;
    const secondAngle = second * 6;

    const hourHand = React.createElement("line", {
        x1: "50",
        y1: "50",
        x2: "50",
        y2: "20",
        style: {
        transform: `rotate(${hourAngle}deg)`,
        transformOrigin: "center",
        stroke: "black",
        strokeWidth: "3",
        },
    });

    const minuteHand = React.createElement("line", {
        x1: "50",
        y1: "50",
        x2: "50",
        y2: "10",
        style: {
        transform: `rotate(${minuteAngle}deg)`,
        transformOrigin: "center",
        stroke: "black",
        strokeWidth: "2",
        },
    });

    const secondHand = React.createElement("line", {
        x1: "50",
        y1: "50",
        x2: "50",
        y2: "10",
        style: {
        transform: `rotate(${secondAngle}deg)`,
        transformOrigin: "center",
        stroke: "red",
        strokeWidth: "1",
        },
    });

    const clockFace = React.createElement("circle", {
        cx: "50",
        cy: "50",
        r: "40",
        style: {
        fill: "white",
        stroke: "black",
        strokeWidth: "2",
        },
    });

    const clockNumbers = [];
    for (let i = 1; i <= 12; i++) {
        const angle = i * 30;
        const x = 50 + 35 * Math.sin((angle * Math.PI) / 180);
        const y = 50 - 35 * Math.cos((angle * Math.PI) / 180);
        clockNumbers.push(
        React.createElement(
            "text",
            {
            key: `number-${i}`,
            x: x,
            y: y,
            style: {
                textAnchor: "middle",
                dominantBaseline: "central",
                fontSize: "8px",
            },
            },
            `${i}`
        )
        );
    }

    const clock = React.createElement(
        "svg",
        {
        width: "250",
        height: "250",
        viewBox: "0 0 100 100",
        style: {
            // border: "1px solid black",
        },
        },
        clockFace,
        clockNumbers,
        hourHand,
        minuteHand,
        secondHand
    );

    // Wrap the clock in a div element and center it.
    return React.createElement(
        "div",
        {
        style: {
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
        },
        },
        clock
    );
    }

    function App() {
    const [datetime, setDateTime] = React.useState(new Date());

    const cityTimeZones = [
        { name: "Los Angeles", timezone: "America/Los_Angeles" },
        { name: "New York", timezone: "America/New_York" },
        { name: "Beijing", timezone: "Asia/Shanghai" },
        { name: "London", timezone: "Europe/London" },
        { name: "Tokyo", timezone: "Asia/Tokyo" },
        // Add more cities and timezones as needed
    ];

    function getTime(date, timeZone) {
        const time = date.toLocaleTimeString("en-US", {
        timeZone: timeZone,
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: false,
        });
        return time;
    }

    async function fetchTime() {
        try {
        // Fetch the current time from worldtimeapi.org.
        const response = await fetch("https://worldtimeapi.org/api/ip");
        const data = await response.json();
        const utc_datetime = new Date(data.utc_datetime);
        setDateTime(utc_datetime);
        } catch (error) {
        // Get local datetime if worldtimeapi.org is down.
        setDateTime(new Date());
        console.log(error);
        }
    }

    // Asynchronously update the time roughly every 1000 ms.
    React.useEffect(function () {
      const intervalId = setInterval(function () {
        fetchTime();
      }, 1000);
      return () => clearInterval(intervalId);
    }, []);

    const timeComponents = cityTimeZones.map(
        ({ name, timezone }, index) => {
        const localTime = getTime(datetime, timezone);
        const localDateTime = new Date(localTime);
        return React.createElement(
            "div",
            { key: `zone-${index}` },
            React.createElement("h3", null, `${name}: ${localTime}`),
            React.createElement(Clock, { time: localDateTime }),
            React.createElement("p", null, "")
        );
        }
    );

    return React.createElement(
        "div",
        null,
        React.createElement(
        "h3",
        null,
        `Local: ${getTime(
            datetime,
            Intl.DateTimeFormat().resolvedOptions().timeZone
        )}`
        ),
        React.createElement(Clock, { time: datetime }),
        React.createElement("p", null, ""),
        React.createElement("div", null, timeComponents)
    );
    }
    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(React.createElement(App));
</script>

<h2 id="React-HTML-Implementation"><a href="#React-HTML-Implementation" class="headerlink" title="React-HTML Implementation"></a>React-HTML Implementation</h2><p>This React-HTML implementation does not use JSX, i.e., all the React components were created using <code>React.createElement</code>. It requests UTC time from <a target="_blank" rel="noopener" href="https://worldtimeapi.org/">worldtimeapi.org</a> once every one second and falls back to local time if the request failed. The UTC time will be converted to the local time in different time zones and the local time will be rendered as a SVG figure.</p>
<figure class="highlight html"><figcaption><span>react_analog_clock.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello HTML-React Analog Clock!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react@18/umd/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react-dom@18/umd/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// Create a React component called Clock that displays the current time in a SVG analog clock.</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// The analog clock should have three hands: hour, minute, and second.</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// The analog clock should also have 1, 2, 3, ..., 12 numbers around the clock face.</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// The analog clock should also have tick marks.</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">function</span> <span class="title function_">Clock</span>(<span class="params">&#123; time &#125;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> hour = time.<span class="title function_">getHours</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> minute = time.<span class="title function_">getMinutes</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> second = time.<span class="title function_">getSeconds</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> hourAngle = (hour % <span class="number">12</span>) * <span class="number">30</span> + minute * <span class="number">0.5</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> minuteAngle = minute * <span class="number">6</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> secondAngle = second * <span class="number">6</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> hourHand = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;line&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">x1</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">y1</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">x2</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">y2</span>: <span class="string">&quot;20&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">transform</span>: <span class="string">`rotate(<span class="subst">$&#123;hourAngle&#125;</span>deg)`</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">transformOrigin</span>: <span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">stroke</span>: <span class="string">&quot;black&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">strokeWidth</span>: <span class="string">&quot;3&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> minuteHand = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;line&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">x1</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">y1</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">x2</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">y2</span>: <span class="string">&quot;10&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">transform</span>: <span class="string">`rotate(<span class="subst">$&#123;minuteAngle&#125;</span>deg)`</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">transformOrigin</span>: <span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">stroke</span>: <span class="string">&quot;black&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">strokeWidth</span>: <span class="string">&quot;2&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> secondHand = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;line&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">x1</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">y1</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">x2</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">y2</span>: <span class="string">&quot;10&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">transform</span>: <span class="string">`rotate(<span class="subst">$&#123;secondAngle&#125;</span>deg)`</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">transformOrigin</span>: <span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">stroke</span>: <span class="string">&quot;red&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">strokeWidth</span>: <span class="string">&quot;1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> clockFace = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;circle&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">cx</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">cy</span>: <span class="string">&quot;50&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">r</span>: <span class="string">&quot;40&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">fill</span>: <span class="string">&quot;white&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">stroke</span>: <span class="string">&quot;black&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">strokeWidth</span>: <span class="string">&quot;2&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> clockNumbers = [];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> angle = i * <span class="number">30</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> x = <span class="number">50</span> + <span class="number">35</span> * <span class="title class_">Math</span>.<span class="title function_">sin</span>((angle * <span class="title class_">Math</span>.<span class="property">PI</span>) / <span class="number">180</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> y = <span class="number">50</span> - <span class="number">35</span> * <span class="title class_">Math</span>.<span class="title function_">cos</span>((angle * <span class="title class_">Math</span>.<span class="property">PI</span>) / <span class="number">180</span>);</span></span><br><span class="line"><span class="language-javascript">          clockNumbers.<span class="title function_">push</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span></span><br><span class="line"><span class="language-javascript">              <span class="string">&quot;text&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">key</span>: <span class="string">`number-<span class="subst">$&#123;i&#125;</span>`</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: x,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>: y,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">textAnchor</span>: <span class="string">&quot;middle&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">dominantBaseline</span>: <span class="string">&quot;central&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">fontSize</span>: <span class="string">&quot;8px&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">              <span class="string">`<span class="subst">$&#123;i&#125;</span>`</span></span></span><br><span class="line"><span class="language-javascript">            )</span></span><br><span class="line"><span class="language-javascript">          );</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> clock = <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&quot;svg&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">width</span>: <span class="string">&quot;250&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">height</span>: <span class="string">&quot;250&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">viewBox</span>: <span class="string">&quot;0 0 100 100&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="comment">// border: &quot;1px solid black&quot;,</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          clockFace,</span></span><br><span class="line"><span class="language-javascript">          clockNumbers,</span></span><br><span class="line"><span class="language-javascript">          hourHand,</span></span><br><span class="line"><span class="language-javascript">          minuteHand,</span></span><br><span class="line"><span class="language-javascript">          secondHand</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Wrap the clock in a div element and center it.</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&quot;div&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">display</span>: <span class="string">&quot;flex&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">justifyContent</span>: <span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">alignItems</span>: <span class="string">&quot;center&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          clock</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> [datetime, setDateTime] = <span class="title class_">React</span>.<span class="title function_">useState</span>(<span class="keyword">new</span> <span class="title class_">Date</span>());</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> cityTimeZones = [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">name</span>: <span class="string">&quot;Los Angeles&quot;</span>, <span class="attr">timezone</span>: <span class="string">&quot;America/Los_Angeles&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">name</span>: <span class="string">&quot;New York&quot;</span>, <span class="attr">timezone</span>: <span class="string">&quot;America/New_York&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">name</span>: <span class="string">&quot;Beijing&quot;</span>, <span class="attr">timezone</span>: <span class="string">&quot;Asia/Shanghai&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">name</span>: <span class="string">&quot;London&quot;</span>, <span class="attr">timezone</span>: <span class="string">&quot;Europe/London&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">name</span>: <span class="string">&quot;Tokyo&quot;</span>, <span class="attr">timezone</span>: <span class="string">&quot;Asia/Tokyo&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// Add more cities and timezones as needed</span></span></span><br><span class="line"><span class="language-javascript">        ];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">getTime</span>(<span class="params">date, timeZone</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> time = date.<span class="title function_">toLocaleTimeString</span>(<span class="string">&quot;en-US&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">timeZone</span>: timeZone,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">year</span>: <span class="string">&quot;numeric&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">month</span>: <span class="string">&quot;2-digit&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">day</span>: <span class="string">&quot;2-digit&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">hour</span>: <span class="string">&quot;2-digit&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">minute</span>: <span class="string">&quot;2-digit&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">second</span>: <span class="string">&quot;2-digit&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">hour12</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> time;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchTime</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// Fetch the current time from worldtimeapi.org.</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;https://worldtimeapi.org/api/ip&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> utc_datetime = <span class="keyword">new</span> <span class="title class_">Date</span>(data.<span class="property">utc_datetime</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">setDateTime</span>(utc_datetime);</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// Get local datetime if worldtimeapi.org is down.</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">setDateTime</span>(<span class="keyword">new</span> <span class="title class_">Date</span>());</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Asynchronously update the time roughly every 1000 ms.</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">React</span>.<span class="title function_">useEffect</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> intervalId = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">fetchTime</span>();</span></span><br><span class="line"><span class="language-javascript">          &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="built_in">clearInterval</span>(intervalId);</span></span><br><span class="line"><span class="language-javascript">        &#125;, []);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> timeComponents = cityTimeZones.<span class="title function_">map</span>(</span></span><br><span class="line"><span class="language-javascript">          <span class="function">(<span class="params">&#123; name, timezone &#125;, index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> localTime = <span class="title function_">getTime</span>(datetime, timezone);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> localDateTime = <span class="keyword">new</span> <span class="title class_">Date</span>(localTime);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span></span><br><span class="line"><span class="language-javascript">              <span class="string">&quot;div&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              &#123; <span class="attr">key</span>: <span class="string">`zone-<span class="subst">$&#123;index&#125;</span>`</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">              <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;h3&quot;</span>, <span class="literal">null</span>, <span class="string">`<span class="subst">$&#123;name&#125;</span>: <span class="subst">$&#123;localTime&#125;</span>`</span>),</span></span><br><span class="line"><span class="language-javascript">              <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">Clock</span>, &#123; <span class="attr">time</span>: localDateTime &#125;),</span></span><br><span class="line"><span class="language-javascript">              <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&quot;div&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&quot;h3&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="string">`Local: <span class="subst">$&#123;getTime(</span></span></span></span><br><span class="line"><span class="subst"><span class="string"><span class="language-javascript">              datetime,</span></span></span></span><br><span class="line"><span class="subst"><span class="string"><span class="language-javascript">              <span class="built_in">Intl</span>.DateTimeFormat().resolvedOptions().timeZone</span></span></span></span><br><span class="line"><span class="subst"><span class="string"><span class="language-javascript">            )&#125;</span>`</span></span></span><br><span class="line"><span class="language-javascript">          ),</span></span><br><span class="line"><span class="language-javascript">          <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">Clock</span>, &#123; <span class="attr">time</span>: datetime &#125;),</span></span><br><span class="line"><span class="language-javascript">          <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;&quot;</span>),</span></span><br><span class="line"><span class="language-javascript">          <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>, <span class="literal">null</span>, timeComponents)</span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span></span><br><span class="line"><span class="language-javascript">      root.<span class="title function_">render</span>(<span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">App</span>));</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</div><div class="article-licensing box"><div class="licensing-title"><p>Real-Time React Analog Clock</p><p><a href="https://leimao.github.io/blog/Real-Time-React-Analog-Clock/">https://leimao.github.io/blog/Real-Time-React-Analog-Clock/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Lei Mao</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>09-11-2023</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>10-09-2023</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <div><a class="link-muted" rel="tag" href="/tags/JavaScript/">JavaScript,</a> </div><div><a class="link-muted" rel="tag" href="/tags/React/">React </a> </div></div></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=61b5930d440224001908310c&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered has-text-weight-normal">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="SSVSLEH4X85LU"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" href="https://www.buymeacoffee.com/leimao" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/essay/%E7%9B%B4%E5%88%B02023%E5%B9%B4%E6%88%91%E4%BD%BF%E7%94%A8%E8%BF%87%E7%9A%84%E6%89%8B%E6%9C%BA/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">直到 2023 年我使用过的手机</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/essay/%E5%8D%8E%E4%B8%BA%E8%8A%AF%E7%89%87-Kirin-9000S/"><span class="level-item">华为芯片 Kirin 9000S</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comment-card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="comment-block"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://leimao.github.io/blog/Real-Time-React-Analog-Clock/';
            this.page.identifier = '/blog/Real-Time-React-Analog-Clock/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'leimao-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/author_images/Lei-Bio-Medium.jpg" alt="Lei Mao"></figure><p class="title is-size-4 is-block" style="line-height:inherit;margin-bottom:0.30rem;">Lei Mao</p><p class="is-block" style="white-space: pre-line; font-style: italic; margin-bottom: 0.50rem; font-size: 0.8em">Artificial Intelligence
Machine Learning
Computer Science
</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Santa Clara, California</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">733</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">453</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/leimao" target="_blank" rel="noopener"><i class="fab fa-github"></i>  Follow</a> <a class="level-item button is-primary is-rounded" href="https://github.com/sponsors/leimao" target="_blank" rel="noopener"><i class="fas fa-heart"></i>  Sponsor</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/leimao"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/matchaleimao"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/lei-mao/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:dukeleimao@gmail.com"><i class="fas fa-envelope-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="G.Scholar" href="https://scholar.google.com/citations?user=R2VUf7YAAAAJ"><i class="ai ai-google-scholar-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Introduction"><span class="level-left"><span class="level-item">1</span><span class="level-item">Introduction</span></span></a></li><li><a class="level is-mobile" href="#World-Time"><span class="level-left"><span class="level-item">2</span><span class="level-item">World Time</span></span></a></li><li><a class="level is-mobile" href="#React-HTML-Implementation"><span class="level-left"><span class="level-item">3</span><span class="level-item">React-HTML Implementation</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget"><div class="g-ads-x"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3></div><br><center><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CWYDCK3L&amp;placement=leimaogithubio" id="_carbonads_js"></script></center></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/favicon/android-chrome-512x512.png" alt="Lei Mao&#039;s Log Book" height="28"></a><p class="is-size-7"><span>&copy; 2017-2024 Lei Mao</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Site UV: <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span></span> <span id="busuanzi_container_site_pv">Site PV: <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span></span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/leimao"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/night.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>