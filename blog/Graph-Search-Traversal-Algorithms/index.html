<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="twitter:image:src" content="https://leimao.github.io/images/favicon/android-chrome-512x512.png"><meta name="referrer" content="no-referrer-when-downgrade"><title>Graph Search and Traversal Algorithms - Lei Mao&#039;s Log Book</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="Lei Mao&#039;s Log Book"><meta name="msapplication-TileImage" content="/images/favicon/android-chrome-192x192.png"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Lei Mao&#039;s Log Book"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="192x192" href="/images/favicon/android-chrome-192x192.png"><link rel="apple-touch-icon" sizes="512x512" href="/images/favicon/android-chrome-512x512.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="apple-touch-icon" sizes="32x32" href="/images/favicon/favicon-32x32.png"><meta name="description" content="Breadth-First Search (BFS) and Depth-First Search (DFS)"><meta property="og:type" content="blog"><meta property="og:title" content="Graph Search and Traversal Algorithms"><meta property="og:url" content="https://leimao.github.io/blog/Graph-Search-Traversal-Algorithms/"><meta property="og:site_name" content="Lei Mao&#039;s Log Book"><meta property="og:description" content="Breadth-First Search (BFS) and Depth-First Search (DFS)"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://leimao.github.io/images/blog/2021-07-13-Graph-Search-Traversal-Algorithms/Graph-scan.png"><meta property="article:published_time" content="2021-07-13T07:00:00.000Z"><meta property="article:modified_time" content="2021-07-13T07:00:00.000Z"><meta property="article:author" content="Lei Mao"><meta property="article:tag" content="Graph"><meta property="article:tag" content="BFS"><meta property="article:tag" content="DFS"><meta property="article:tag" content="Graph Traversal"><meta property="article:tag" content="Graph Search"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://leimao.github.io/images/blog/2021-07-13-Graph-Search-Traversal-Algorithms/Graph-scan.png"><meta property="twitter:creator" content="@matchaleimao"><meta property="twitter:site" content="Lei Mao&#039;s Log Book"><meta property="fb:admins" content="dukeleimao"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://leimao.github.io/blog/Graph-Search-Traversal-Algorithms/"},"headline":"Graph Search and Traversal Algorithms","image":["https://leimao.github.io/images/blog/2021-07-13-Graph-Search-Traversal-Algorithms/Graph-scan.png"],"datePublished":"2021-07-13T07:00:00.000Z","dateModified":"2021-07-13T07:00:00.000Z","author":{"@type":"Person","name":"Lei Mao"},"publisher":{"@type":"Organization","name":"Lei Mao's Log Book","logo":{"@type":"ImageObject","url":"https://leimao.github.io/images/favicon/android-chrome-512x512.png"}},"description":"Breadth-First Search (BFS) and Depth-First Search (DFS)"}</script><link rel="canonical" href="https://leimao.github.io/blog/Graph-Search-Traversal-Algorithms/"><link rel="alternate" href="/atom.xml" title="Lei Mao&#039;s Log Book" type="application/atom+xml"><link rel="icon" href="/images/favicon/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons/css/academicons.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=PT+Sans+Narrow:wght@400;700&amp;family=PT+Serif"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-EJY6FXZBCB" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-EJY6FXZBCB');</script><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script src="//m.servedby-buysellads.com/monetization.custom.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/favicon/android-chrome-512x512.png" alt="Lei Mao&#039;s Log Book" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Lei Mao&#039;s Log Book</a><a class="navbar-item" href="/curriculum">Curriculum</a><a class="navbar-item" href="/blog">Blog</a><a class="navbar-item" href="/article">Articles</a><a class="navbar-item" href="/project">Projects</a><a class="navbar-item" href="/publication">Publications</a><a class="navbar-item" href="/reading">Readings</a><a class="navbar-item" href="/life">Life</a><a class="navbar-item" href="/essay">Essay</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/faq">FAQs</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Switch Color Scheme" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/leimao"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Gitter" href="https://gitter.im/leimao/community"><i class="fab fa-gitter"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-content"><center><div class="bsa-standard" id="carbon-ad-01"></div><script>            (function() {             if (typeof _bsa !== 'undefined' && _bsa) {                 _bsa.init('custom', 'CWYD65QY', 'placement:leimaogithubio-standard', {                     target: '#carbon-ad-01',                     template: `             <a href='##link##' class='native-banner' style='background: ##backgroundColor##' rel='sponsored noopener' target='_blank' title='##company## — ##tagline##'>                 <img class='native-img' width='125' src='##logo##' />                 <div class='native-main'>                     <div class='native-details' style='                             color: ##textColor##;                             border-left: solid 1px ##textColor##;                         '>                         <span class='native-company'>Sponsored by ##company##</span>                         <span class='native-desc'>##description##</span>                     </div>                     <span class='native-cta' style='                             color: ##ctaTextColor##;                             background-color: ##ctaBackgroundColor##;                         '>##callToAction##</span>                 </div>             </a>             `,                 });                 }             })();         </script></center></div></div><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3" style="font-family: 'PT Sans Narrow', sans-serif">Graph Search and Traversal Algorithms</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left" style="margin-bottom: 0.50rem"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="2021-07-13T07:00:00.000Z" title="2021-07-13T07:00:00.000Z">07-13-2021</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="2021-07-13T07:00:00.000Z" title="2021-07-13T07:00:00.000Z">07-13-2021</time></span><span class="level-item"><i class="far fa-folder-open has-text-grey"></i> <a class="link-muted" href="/blog/">blog</a></span><span class="level-item"><i class="far fa-clock"></i> 9 minutes read (About 1366 words)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>&nbsp;visits</span></div></div><div class="content" style="margin-top: 1.0rem"><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Graph is a common data structure that represents the relationships between different entities using edges and vertices. In practice, a graph can be extremely large, and there is a need to traverse or search the graph along the edges. Breadth-first search and depth-first search algorithms are the most commonly used traverse and search algorithm for graphs.</p>
<img src="/images/blog/2021-07-13-Graph-Search-Traversal-Algorithms/Graph-scan.png" class="box px-0 py-0 ml-auto mr-auto" width="720" title="Graph Search and Traversal" alt="Graph Search and Traversal">
<br>

<p>In this blog post, I would like to discuss the implementations of directed and undirected graphs, breath-first and depth-first search algorithms.</p>
<h2 id="Graph-Search-and-Traversal"><a href="#Graph-Search-and-Traversal" class="headerlink" title="Graph Search and Traversal"></a>Graph Search and Traversal</h2><p>Graph search and traversal are fundamentally the same. We will use the terms, search and traversal, interchangeably. </p>
<h3 id="Graph-Representation-and-Implementation"><a href="#Graph-Representation-and-Implementation" class="headerlink" title="Graph Representation and Implementation"></a>Graph Representation and Implementation</h3><p>Graph is commonly represented using adjacency matrix or adjacency list. Adjacency matrix is not favored for large graphs because usually the edges in large graphs are sparse. Adjacency list uses the least amount of the memory, but querying the specified neighbor of a node can be inefficient in a graph whose edges are dense. So we uses adjacency set instead which is fast for query and not too bad for memory.</p>
<p>Graph can be directed and undirected. There could also be isolated vertices in the graph that have no edges. There could also be vertices that connects with themselves. These graph features should not be ignored and have to be implemented accordingly.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Iterable, <span class="type">List</span>, <span class="type">Union</span>, <span class="type">Set</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Graph</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Adjacency set representation.</span></span><br><span class="line">        <span class="comment"># key: node name, value: adjacency node name set.</span></span><br><span class="line">        self.edges = <span class="built_in">dict</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_node</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add a node.</span></span><br><span class="line">        <span class="keyword">if</span> u <span class="keyword">not</span> <span class="keyword">in</span> self.edges:</span><br><span class="line">            self.edges[u] = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_edge</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>], v: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add an edge from u to v.</span></span><br><span class="line">        self.add_node(u)</span><br><span class="line">        self.add_node(v)</span><br><span class="line">        self.edges[u].add(v)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_neighbors</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="type">Set</span>[<span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> u <span class="keyword">not</span> <span class="keyword">in</span> self.edges:</span><br><span class="line">            <span class="keyword">raise</span> RuntimeError(<span class="string">f&quot;Node <span class="subst">&#123;u&#125;</span> does not exist in the graph.&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.edges[u]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_num_nodes</span>(<span class="params">self</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.edges)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UndirectedGraph</span>(<span class="title class_ inherited__">Graph</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="built_in">super</span>(UndirectedGraph, self).__init__()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_edge</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>], v: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add an edge from u to v and from v to u.</span></span><br><span class="line">        self.add_node(u)</span><br><span class="line">        self.add_node(v)</span><br><span class="line">        self.edges[u].add(v)</span><br><span class="line">        self.edges[v].add(u)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DirectedGraph</span>(<span class="title class_ inherited__">Graph</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="built_in">super</span>(DirectedGraph, self).__init__()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># key: child name, value: parents set</span></span><br><span class="line">        self.parents = <span class="built_in">dict</span>()</span><br><span class="line">        <span class="comment"># key: parent name, value: children set</span></span><br><span class="line">        self.children = self.edges</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_node</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> u <span class="keyword">not</span> <span class="keyword">in</span> self.children:</span><br><span class="line">            self.children[u] = <span class="built_in">set</span>()</span><br><span class="line">        <span class="keyword">if</span> u <span class="keyword">not</span> <span class="keyword">in</span> self.parents:</span><br><span class="line">            self.parents[u] = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_edge</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>], v: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">        self.add_node(u)</span><br><span class="line">        self.add_node(v)</span><br><span class="line">        self.children[u].add(v)</span><br><span class="line">        self.parents[v].add(u)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_parents</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="type">Set</span>[<span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> u <span class="keyword">not</span> <span class="keyword">in</span> self.parents:</span><br><span class="line">            <span class="keyword">raise</span> RuntimeError(<span class="string">f&quot;Node <span class="subst">&#123;u&#125;</span> does not exist in the graph.&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.parents[u]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_children</span>(<span class="params">self, u: <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span>) -&gt; <span class="type">Set</span>[<span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> u <span class="keyword">not</span> <span class="keyword">in</span> self.children:</span><br><span class="line">            <span class="keyword">raise</span> RuntimeError(<span class="string">f&quot;Node <span class="subst">&#123;u&#125;</span> does not exist in the graph.&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.children[u]</span><br></pre></td></tr></table></figure>

<h3 id="Breadth-First-Search-BFS"><a href="#Breadth-First-Search-BFS" class="headerlink" title="Breadth-First Search (BFS)"></a>Breadth-First Search (BFS)</h3><p>The breadth-first search algorithm explores all the nodes at the current level before it explores the next level. To achieve this, it uses a first-in-first-out (FIFO) queue.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Graph search/traversal algorithms.</span></span><br><span class="line"><span class="comment"># These algorithms could be modified to achieve different goals for graphs.</span></span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Iterable, <span class="type">List</span>, <span class="type">Union</span>, <span class="type">Set</span></span><br><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue</span><br><span class="line"><span class="keyword">from</span> graph <span class="keyword">import</span> Graph, DirectedGraph, UndirectedGraph</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">breadth_first_traversal</span>(<span class="params">graph: Graph, start_nodes: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># BFS supports multiple start nodes.</span></span><br><span class="line">    <span class="comment"># O(V + E) where V is the number of nodes and E is the number of edges.</span></span><br><span class="line"></span><br><span class="line">    search_order = []</span><br><span class="line"></span><br><span class="line">    num_nodes = graph.get_num_nodes()</span><br><span class="line">    <span class="comment"># First in first out (FIFO)</span></span><br><span class="line">    q = Queue(maxsize=num_nodes)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Store the nodes that have been visited.</span></span><br><span class="line">    visited = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Mark the source node as visited and enqueue it.</span></span><br><span class="line">    <span class="keyword">for</span> node <span class="keyword">in</span> start_nodes:</span><br><span class="line">        q.put(node)</span><br><span class="line">        visited.add(node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> q.empty():</span><br><span class="line">        src_node = q.get()</span><br><span class="line">        search_order.append(src_node)</span><br><span class="line">        <span class="keyword">for</span> tgt_node <span class="keyword">in</span> graph.get_neighbors(src_node):</span><br><span class="line">            <span class="keyword">if</span> tgt_node <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                q.put(tgt_node)</span><br><span class="line">                visited.add(tgt_node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> search_order</span><br></pre></td></tr></table></figure>


<h3 id="Depth-First-Search-DFS"><a href="#Depth-First-Search-DFS" class="headerlink" title="Depth-First Search (DFS)"></a>Depth-First Search (DFS)</h3><p>The depth-first search algorithm explores as far as possible along each branch before backtracking. It can be implemented recursively or iteratively. The recursive algorithm naturally explores the depth first but is not favored for large graphs because of stack overflow. The iterative algorithm uses a last-in-first-out (LIFO) stack to explore the depth first.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">recursive_depth_first_traversal</span>(<span class="params">graph: Graph,</span></span><br><span class="line"><span class="params">                                    start_node: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Recursive algorithm is not favored for large graphs because of stack overflow.</span></span><br><span class="line">    <span class="comment"># O(V + E) where V is the number of nodes and E is the number of edges.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">depth_first_recursion</span>(<span class="params">graph: Graph, visited: <span class="type">Set</span>, src_node: <span class="built_in">int</span>,</span></span><br><span class="line"><span class="params">                              search_order: <span class="type">List</span>[<span class="built_in">int</span>]</span>):</span><br><span class="line"></span><br><span class="line">        visited.add(src_node)</span><br><span class="line">        search_order.append(src_node)</span><br><span class="line">        <span class="keyword">for</span> tgt_node <span class="keyword">in</span> graph.get_neighbors(src_node):</span><br><span class="line">            <span class="keyword">if</span> tgt_node <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                depth_first_recursion(graph=graph,</span><br><span class="line">                                      visited=visited,</span><br><span class="line">                                      src_node=tgt_node,</span><br><span class="line">                                      search_order=search_order)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Store the nodes that have been visited.</span></span><br><span class="line">    visited = <span class="built_in">set</span>()</span><br><span class="line">    search_order = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> start_node <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">        depth_first_recursion(graph=graph,</span><br><span class="line">                              visited=visited,</span><br><span class="line">                              src_node=start_node,</span><br><span class="line">                              search_order=search_order)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> search_order</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">iterative_depth_first_traversal</span>(<span class="params">graph: Graph,</span></span><br><span class="line"><span class="params">                                    start_node: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># O(V + E) where V is the number of nodes and E is the number of edges.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># In Python, the list data structure can be used as stack.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Store the nodes that have been visited.</span></span><br><span class="line">    visited = <span class="built_in">set</span>()</span><br><span class="line">    search_order = []</span><br><span class="line">    <span class="comment"># Last in first out (LIFO)</span></span><br><span class="line">    stack = <span class="built_in">list</span>()</span><br><span class="line"></span><br><span class="line">    stack.append(start_node)</span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(stack) != <span class="number">0</span>:</span><br><span class="line">        src_node = stack.pop()</span><br><span class="line">        <span class="keyword">if</span> src_node <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">            visited.add(src_node)</span><br><span class="line">            search_order.append(src_node)</span><br><span class="line">            <span class="keyword">for</span> tgt_node <span class="keyword">in</span> graph.get_neighbors(src_node):</span><br><span class="line">                stack.append(tgt_node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> search_order</span><br></pre></td></tr></table></figure>

<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>We created a dummy directed graph and a dummy undirected graph to test our search algorithms.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_dummy_directed_graph</span>() -&gt; DirectedGraph:</span><br><span class="line"></span><br><span class="line">    graph = DirectedGraph()</span><br><span class="line">    graph.add_edge(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">    graph.add_edge(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    graph.add_edge(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    graph.add_edge(<span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line">    graph.add_edge(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    graph.add_edge(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="comment"># Add an isolated node without connections.</span></span><br><span class="line">    graph.add_node(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> graph</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_dummy_undirected_graph</span>() -&gt; UndirectedGraph:</span><br><span class="line"></span><br><span class="line">    graph = UndirectedGraph()</span><br><span class="line">    graph.add_edge(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    graph.add_edge(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">    graph.add_edge(<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">    graph.add_edge(<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">    graph.add_edge(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">    graph.add_edge(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">    graph.add_edge(<span class="number">4</span>, <span class="number">6</span>)</span><br><span class="line">    graph.add_edge(<span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">    <span class="comment"># Add an isolated node without connections.</span></span><br><span class="line">    graph.add_node(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> graph</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    directed_graph = create_dummy_directed_graph()</span><br><span class="line">    undirected_graph = create_dummy_undirected_graph()</span><br><span class="line"></span><br><span class="line">    search_order = breadth_first_traversal(graph=directed_graph,</span><br><span class="line">                                           start_nodes=[<span class="number">2</span>, <span class="number">0</span>])</span><br><span class="line">    <span class="built_in">print</span>(search_order)</span><br><span class="line">    search_order = breadth_first_traversal(graph=undirected_graph,</span><br><span class="line">                                           start_nodes=[<span class="number">2</span>, <span class="number">0</span>])</span><br><span class="line">    <span class="built_in">print</span>(search_order)</span><br><span class="line"></span><br><span class="line">    search_order = recursive_depth_first_traversal(graph=directed_graph,</span><br><span class="line">                                                   start_node=<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(search_order)</span><br><span class="line">    search_order = recursive_depth_first_traversal(graph=undirected_graph,</span><br><span class="line">                                                   start_node=<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(search_order)</span><br><span class="line"></span><br><span class="line">    search_order = iterative_depth_first_traversal(graph=directed_graph,</span><br><span class="line">                                                   start_node=<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(search_order)</span><br><span class="line">    search_order = iterative_depth_first_traversal(graph=undirected_graph,</span><br><span class="line">                                                   start_node=<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(search_order)</span><br></pre></td></tr></table></figure>

<p>The expected outputs from the terminal are</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python search.py </span><br><span class="line">[2, 0, 3, 1]</span><br><span class="line">[2, 0, 1, 4, 5, 3, 6]</span><br><span class="line">[2, 0, 1, 3]</span><br><span class="line">[2, 1, 3, 5, 4, 6]</span><br><span class="line">[2, 3, 0, 1]</span><br><span class="line">[2, 5, 6, 4, 3, 1]</span><br></pre></td></tr></table></figure>

<p>Note that the iterative and recursive depth-first search algorithms do not necessarily result in the same traversal order.</p>
<h3 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h3><p>All the source code could be found on GitHub <a target="_blank" rel="noopener" href="https://gist.github.com/leimao/d75e56c8e34bb50a83ada41be1681ebc">Gist</a>.</p>
<h2 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h2><p>Many search and traversal applications in practice are implemented using modified breath-first and depth-first search algorithms.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Graph_traversal">Graph Traversal - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Depth-first_search">Depth-First Search - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth-First Search - Wikipedia</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>Graph Search and Traversal Algorithms</p><p><a href="https://leimao.github.io/blog/Graph-Search-Traversal-Algorithms/">https://leimao.github.io/blog/Graph-Search-Traversal-Algorithms/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Lei Mao</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>07-13-2021</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>07-13-2021</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <div><a class="link-muted" rel="tag" href="/tags/Graph/">Graph,</a> </div><div><a class="link-muted" rel="tag" href="/tags/BFS/">BFS,</a> </div><div><a class="link-muted" rel="tag" href="/tags/DFS/">DFS,</a> </div><div><a class="link-muted" rel="tag" href="/tags/Graph-Traversal/">Graph Traversal,</a> </div><div><a class="link-muted" rel="tag" href="/tags/Graph-Search/">Graph Search </a> </div></div></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=61b5930d440224001908310c&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered has-text-weight-normal">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="SSVSLEH4X85LU"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" href="https://www.buymeacoffee.com/leimao" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/blog/Travelling-Salesman-Problem/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Travelling Salesman Problem</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/blog/Download-Using-LibCurl/"><span class="level-item">Download Files in C++ Using LibCurl and Indicators Progress Bars</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comment-card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="comment-block"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://leimao.github.io/blog/Graph-Search-Traversal-Algorithms/';
            this.page.identifier = '/blog/Graph-Search-Traversal-Algorithms/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'leimao-github-io' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/author_images/Lei-Bio-Medium.jpg" alt="Lei Mao"></figure><p class="title is-size-4 is-block" style="line-height:inherit;margin-bottom:0.30rem;">Lei Mao</p><p class="is-block" style="white-space: pre-line; font-style: italic; margin-bottom: 0.50rem; font-size: 0.8em">Artificial Intelligence
Machine Learning
Computer Science
</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Santa Clara, California</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">733</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">453</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/leimao" target="_blank" rel="noopener"><i class="fab fa-github"></i>  Follow</a> <a class="level-item button is-primary is-rounded" href="https://github.com/sponsors/leimao" target="_blank" rel="noopener"><i class="fas fa-heart"></i>  Sponsor</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/leimao"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/matchaleimao"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/lei-mao/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:dukeleimao@gmail.com"><i class="fas fa-envelope-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="G.Scholar" href="https://scholar.google.com/citations?user=R2VUf7YAAAAJ"><i class="ai ai-google-scholar-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Introduction"><span class="level-left"><span class="level-item">1</span><span class="level-item">Introduction</span></span></a></li><li><a class="level is-mobile" href="#Graph-Search-and-Traversal"><span class="level-left"><span class="level-item">2</span><span class="level-item">Graph Search and Traversal</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Graph-Representation-and-Implementation"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Graph Representation and Implementation</span></span></a></li><li><a class="level is-mobile" href="#Breadth-First-Search-BFS"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Breadth-First Search (BFS)</span></span></a></li><li><a class="level is-mobile" href="#Depth-First-Search-DFS"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">Depth-First Search (DFS)</span></span></a></li><li><a class="level is-mobile" href="#Example"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">Example</span></span></a></li><li><a class="level is-mobile" href="#Source-Code"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">Source Code</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Miscellaneous"><span class="level-left"><span class="level-item">3</span><span class="level-item">Miscellaneous</span></span></a></li><li><a class="level is-mobile" href="#Reference"><span class="level-left"><span class="level-item">4</span><span class="level-item">Reference</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget"><div class="g-ads-x"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3></div><br><center><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CWYDCK3L&amp;placement=leimaogithubio" id="_carbonads_js"></script></center></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/favicon/android-chrome-512x512.png" alt="Lei Mao&#039;s Log Book" height="28"></a><p class="is-size-7"><span>&copy; 2017-2024 Lei Mao</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Site UV: <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span></span> <span id="busuanzi_container_site_pv">Site PV: <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span></span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/leimao"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/night.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>